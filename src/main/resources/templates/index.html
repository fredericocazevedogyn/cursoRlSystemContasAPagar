<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Contas Pagar</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<body>
	<div class="panel panel-default" style="padding: 20px">
		<div class="panel-heading">
			<strong>Minhas Contas a Pagar</strong>
		</div>
		<form class="form-horizontal" action="GET" style="margin: 10px" th:action="@{/contas/listar}">
			<div class="input-group">
				<input type="text" class="form-control input-sm" id="search" placeholder="Filtrar por descricao ou valor" name="search" th:value="@{search}">
				<button type="submit" class="btn btn-outline-secondary">Buscar</button>
			</div>			
		</form>
		<div class="panel-body">
			<div class="table-responsive">
				<table class="table table-sm table-striped table-hove table-bordered">
				<thead>
					<tr>
						<th>Id</th>
						<th>Descrição</th>
						<th>Categoria</th>
						<th>Total</th>
						<th>Data</th>
						<th>Ações</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="conta : ${contas}">
						<td th:text="${conta.id}">Id Conta</td>
						<td th:text="${conta.descricao}">Descrição</td>
						<td th:text="${conta.categoria.nome}">Total</td>
						<td th:text="${conta.valor}">Total</td>
						<td th:text="${conta.data}">Data</td>
						<td>
							<div class="float-right">
								<a class="btn btn-sm btn-danger" 
								th:href="@{delete/{id} (id=${conta.id})}" 
								th:data-confirm-delete="|Deseja realmente apagar o registro: ${conta.id} e descricao: ${conta.descricao} ?|" 
								onclick="if (!confirm(this.getAttribute('data-confirm-delete'))) return false">Apagar</a>
								<a class="btn btn-sm btn-primary" th:href="@{editar/{id} (id=${conta.id})}">Editar</a>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
			</div>
		</div>
		<div class="panel-footer">
			<a class="btn btn-sm btn-danger" th:href="@{adicionar}">Adicionar conta</a>
		</div>
	</div>
	
</body>
</html>


			